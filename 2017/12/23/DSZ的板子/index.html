<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="算法," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="[TOC] 一、STL1.1 Vector   1.2 Queue 1.3 Stack    成员函数 实现操作     empty() 堆栈为空则返回真   pop() 移除栈顶元素（不会返回栈顶元素的值）   push() 在栈顶增加元素   size() 返回栈中元素数目   top() 返回栈顶元素     1.4 iterator迭代器​    每种容器类型都定义了自己的迭代器类型，如">
<meta name="keywords" content="算法">
<meta property="og:type" content="article">
<meta property="og:title" content="DSZ的板子">
<meta property="og:url" content="http://yoursite.com/2017/12/23/DSZ的板子/index.html">
<meta property="og:site_name" content="SE">
<meta property="og:description" content="[TOC] 一、STL1.1 Vector   1.2 Queue 1.3 Stack    成员函数 实现操作     empty() 堆栈为空则返回真   pop() 移除栈顶元素（不会返回栈顶元素的值）   push() 在栈顶增加元素   size() 返回栈中元素数目   top() 返回栈顶元素     1.4 iterator迭代器​    每种容器类型都定义了自己的迭代器类型，如">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2017/12/23/DSZ的板子/C:/Users/dsz62/Desktop/Template/picture/1.png">
<meta property="og:image" content="http://yoursite.com/2017/12/23/DSZ的板子/C:/Users/dsz62/Desktop/Template/picture/2.png">
<meta property="og:image" content="http://yoursite.com/2017/12/23/DSZ的板子/C:/Users/dsz62/Desktop/Template/picture/3.png">
<meta property="og:image" content="http://yoursite.com/2017/12/23/DSZ的板子/C:/Users/dsz62/Desktop/Template/picture/4.png">
<meta property="og:updated_time" content="2017-12-23T08:18:18.427Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DSZ的板子">
<meta name="twitter:description" content="[TOC] 一、STL1.1 Vector   1.2 Queue 1.3 Stack    成员函数 实现操作     empty() 堆栈为空则返回真   pop() 移除栈顶元素（不会返回栈顶元素的值）   push() 在栈顶增加元素   size() 返回栈中元素数目   top() 返回栈顶元素     1.4 iterator迭代器​    每种容器类型都定义了自己的迭代器类型，如">
<meta name="twitter:image" content="http://yoursite.com/2017/12/23/DSZ的板子/C:/Users/dsz62/Desktop/Template/picture/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/12/23/DSZ的板子/"/>





  <title>DSZ的板子 | SE</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-108371787-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SE</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">I Can Do All Things!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/23/DSZ的板子/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="SE">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SE">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">DSZ的板子</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-23T16:15:26+08:00">
                2017-12-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/23/DSZ的板子/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/12/23/DSZ的板子/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>[TOC]</p>
<h2 id="一、STL"><a href="#一、STL" class="headerlink" title="一、STL"></a>一、STL</h2><h3 id="1-1-Vector"><a href="#1-1-Vector" class="headerlink" title="1.1 Vector"></a>1.1 Vector</h3><p><img src="/2017/12/23/DSZ的板子/C:/Users\dsz62\Desktop\Template\picture\1.png" alt=""></p>
<p><img src="/2017/12/23/DSZ的板子/C:/Users\dsz62\Desktop\Template\picture\2.png" alt=""></p>
<p><img src="/2017/12/23/DSZ的板子/C:/Users\dsz62\Desktop\Template\picture\3.png" alt=""></p>
<h3 id="1-2-Queue"><a href="#1-2-Queue" class="headerlink" title="1.2 Queue"></a>1.2 Queue</h3><p><img src="/2017/12/23/DSZ的板子/C:/Users\dsz62\Desktop\Template\picture\4.png" alt=""></p>
<h3 id="1-3-Stack"><a href="#1-3-Stack" class="headerlink" title="1.3 Stack"></a>1.3 Stack</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">成员函数</th>
<th style="text-align:left">实现操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">empty()</td>
<td style="text-align:left">堆栈为空则返回真</td>
</tr>
<tr>
<td style="text-align:left">pop()</td>
<td style="text-align:left">移除栈顶元素（不会返回栈顶元素的值）</td>
</tr>
<tr>
<td style="text-align:left">push()</td>
<td style="text-align:left">在栈顶增加元素</td>
</tr>
<tr>
<td style="text-align:left">size()</td>
<td style="text-align:left">返回栈中元素数目</td>
</tr>
<tr>
<td style="text-align:left">top()</td>
<td style="text-align:left">返回栈顶元素</td>
</tr>
</tbody>
</table>
</div>
<h3 id="1-4-iterator迭代器"><a href="#1-4-iterator迭代器" class="headerlink" title="1.4 iterator迭代器"></a>1.4 iterator迭代器</h3><p>​    每种容器类型都定义了自己的迭代器类型，如 vector：vector<int>::iterator it;</int></p>
<p>​    每种容器都定义了一对命名为begin和end的函数，用于返回迭代器。如果容器中有元素的话，由begin返回的迭代器指向第一个元素：vector<int>::iterator iter = ivec.begin();</int></p>
<p>　　上述语句把iter初始化为由名为begin的vector操作返回的值。假设vector不空，初始化后，iter即指该元素为ivec[0]。</p>
<p>​    由end操作返回的迭代器指向vector的“末端元素的下一个”。通常称为超出末端迭代器(off-the-enditerator)，表明它指向了一个不存在的元素。如果vector为空，begin返回的迭代器与end返回的迭代器相同。</p>
<p>　　由end操作返回的迭代器并不指向vector中任何实际的元素，相反，它只是起一个哨兵（sentinel）的作用，表示我们已处理完vector中所有元素。</p>
<h2 id="二、树"><a href="#二、树" class="headerlink" title="二、树"></a>二、树</h2><h3 id="2-1-二叉树"><a href="#2-1-二叉树" class="headerlink" title="2.1 二叉树"></a>2.1 二叉树</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 二叉树 */</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> TElemType; <span class="comment">//二叉树元素类型，默认为char</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span>&#123;</span></div><div class="line">    TElemType v; <span class="comment">//data</span></div><div class="line">    BiTNode *l, *r; <span class="comment">//left child, right child</span></div><div class="line">    BiTNode()&#123;l = r = <span class="literal">NULL</span>;&#125;</div><div class="line">&#125;*BiTree; <span class="comment">//BiTree 是指向二叉树根的指针</span></div></pre></td></tr></table></figure>
<h3 id="2-2-二叉树的遍历-4种"><a href="#2-2-二叉树的遍历-4种" class="headerlink" title="2.2 二叉树的遍历(4种)"></a>2.2 二叉树的遍历(4种)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 二叉树遍历 */</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Pre</span><span class="params">(BiTree T)</span></span>&#123; <span class="comment">//先序遍历, 递归</span></div><div class="line">    <span class="keyword">if</span>(T)&#123;</div><div class="line">        <span class="built_in">printf</span>(T-&gt;v);</div><div class="line">        Pre(T-&gt;l);</div><div class="line">        Pre(T-&gt;r);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">In</span><span class="params">(BiTree T)</span></span>&#123; <span class="comment">//中序遍历，递归</span></div><div class="line">    <span class="keyword">if</span>(T)&#123;</div><div class="line">        In(T-&gt;l);</div><div class="line">        <span class="built_in">printf</span>(T-&gt;v);</div><div class="line">        In(T-&gt;r);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Post</span><span class="params">(BiTree T)</span></span>&#123; <span class="comment">//后序遍历，递归</span></div><div class="line">    <span class="keyword">if</span>(T)&#123;</div><div class="line">        Post(T-&gt;l);</div><div class="line">        Post(T-&gt;r);</div><div class="line">        <span class="built_in">printf</span>(T-&gt;v);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">In_Stack</span><span class="params">(BiTree T)</span></span>&#123; <span class="comment">//中序遍历，非递归</span></div><div class="line">    <span class="built_in">stack</span>&lt;BiTree&gt; S; BiTree p;</div><div class="line"></div><div class="line">    S.push(T); <span class="comment">//根指针进栈</span></div><div class="line">    <span class="keyword">while</span>(!S.empty())&#123;</div><div class="line">        <span class="keyword">while</span>((p=S.top()) &amp;&amp; p) S.push(p-&gt;l);<span class="comment">//向左走到尽头</span></div><div class="line">        S.pop(); <span class="comment">//空指针退栈</span></div><div class="line">        <span class="keyword">if</span>(!S.empty())&#123; <span class="comment">//访问结点，向右一步</span></div><div class="line">            p = S.top(); S.pop();</div><div class="line">            <span class="built_in">printf</span>(p-&gt;v);</div><div class="line">            S.push(p-&gt;r);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrder1</span><span class="params">(BiTNode *b)</span>  <span class="comment">//先序非递归遍历算法</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    BiTNode *St[maxn],*p;</div><div class="line">    <span class="keyword">int</span> top=<span class="number">-1</span>;</div><div class="line">    <span class="keyword">if</span> (b!=<span class="literal">NULL</span>)</div><div class="line">    &#123;</div><div class="line">        top++;                      <span class="comment">//根结点进栈</span></div><div class="line">        St[top]=b;</div><div class="line">        <span class="keyword">while</span> (top&gt;<span class="number">-1</span>)              <span class="comment">//栈不为空时循环</span></div><div class="line">        &#123;</div><div class="line">            p=St[top];              <span class="comment">//退栈并访问该结点</span></div><div class="line">            top--;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%s "</span>,p-&gt;c);</div><div class="line">            <span class="keyword">if</span> (p-&gt;r!=<span class="literal">NULL</span>) <span class="comment">//右孩子结点进栈</span></div><div class="line">            &#123;</div><div class="line">                top++;</div><div class="line">                St[top]=p-&gt;r;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (p-&gt;l!=<span class="literal">NULL</span>) <span class="comment">//左孩子结点进栈</span></div><div class="line">            &#123;</div><div class="line">                top++;</div><div class="line">                St[top]=p-&gt;l;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrder1</span><span class="params">(BiTNode *b)</span>   <span class="comment">//中序非递归遍历算法</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    BiTNode *St[maxn],*p;</div><div class="line">    <span class="keyword">int</span> top=<span class="number">-1</span>;</div><div class="line">    <span class="keyword">if</span> (b!=<span class="literal">NULL</span>)</div><div class="line">    &#123;</div><div class="line">        p=b;</div><div class="line">        <span class="keyword">while</span> (top&gt;<span class="number">-1</span> || p!=<span class="literal">NULL</span>)       <span class="comment">//处理*b结点的左子树</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">while</span> (p!=<span class="literal">NULL</span>)             <span class="comment">//扫描*p的所有左结点并进栈</span></div><div class="line">            &#123;</div><div class="line">                top++;</div><div class="line">                St[top]=p;</div><div class="line">                p=p-&gt;l;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//执行到此处时，栈顶元素没有左孩子或左子树均已访问过</span></div><div class="line">            <span class="keyword">if</span> (top&gt;<span class="number">-1</span>)</div><div class="line">            &#123;</div><div class="line">                p=St[top];              <span class="comment">//出栈*p结点</span></div><div class="line">                top--;</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%s "</span>,p-&gt;c); <span class="comment">//访问之</span></div><div class="line">                p=p-&gt;r;         <span class="comment">//扫描*p的右孩子结点</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostOrder1</span><span class="params">(BiTNode *b)</span>     <span class="comment">//后序非递归遍历算法</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    BiTNode *St[maxn];</div><div class="line">    BiTNode *p;</div><div class="line">    <span class="keyword">int</span> flag,top=<span class="number">-1</span>;                <span class="comment">//栈指针置初值</span></div><div class="line">    <span class="keyword">if</span> (b!=<span class="literal">NULL</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">do</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">while</span> (b!=<span class="literal">NULL</span>)         <span class="comment">//将*b的所有左结点进栈</span></div><div class="line">            &#123;</div><div class="line">                top++;</div><div class="line">                St[top]=b;</div><div class="line">                b=b-&gt;l;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//执行到此处时，栈顶元素没有左孩子或左子树均已访问过</span></div><div class="line">            p=<span class="literal">NULL</span>;                 <span class="comment">//p指向栈顶结点的前一个已访问的结点</span></div><div class="line">            flag=<span class="number">1</span>;                 <span class="comment">//设置b的访问标记为已访问过</span></div><div class="line">            <span class="keyword">while</span> (top!=<span class="number">-1</span> &amp;&amp; flag)</div><div class="line">            &#123;   b=St[top];          <span class="comment">//取出当前的栈顶元素</span></div><div class="line">                <span class="keyword">if</span> (b-&gt;r==p)</div><div class="line">                &#123;</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%s "</span>,b-&gt;c); <span class="comment">//访问*b结点</span></div><div class="line">                    top--;</div><div class="line">                    p=b;            <span class="comment">//p指向刚访问过的结点</span></div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span></div><div class="line">                &#123;</div><div class="line">                    b=b-&gt;r; <span class="comment">//b指向右孩子结点</span></div><div class="line">                    flag=<span class="number">0</span>;         <span class="comment">//设置未被访问的标记</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">while</span> (top!=<span class="number">-1</span>);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Level</span><span class="params">(BiTree T)</span></span>&#123; <span class="comment">//层次遍历，队列</span></div><div class="line">    BiTree p;</div><div class="line">    <span class="built_in">queue</span>&lt;BiTree&gt; Q;</div><div class="line">    <span class="keyword">if</span>(T)&#123;</div><div class="line">        Q.push(T);</div><div class="line">        <span class="keyword">while</span>(!Q.empty())&#123;</div><div class="line">            p = Q.front(); Q.pop();</div><div class="line">            <span class="built_in">printf</span>(p-&gt;v);</div><div class="line">            <span class="keyword">if</span>(p-&gt;l) Q.push(p-&gt;l);</div><div class="line">            <span class="keyword">if</span>(p-&gt;r) Q.push(p-&gt;r);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-3-二叉树的创建"><a href="#2-3-二叉树的创建" class="headerlink" title="2.3 二叉树的创建"></a>2.3 二叉树的创建</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 二叉树的创建 */</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateBiTree_PreOrder</span><span class="params">(BiTree &amp;T, <span class="keyword">int</span> i=<span class="number">0</span>)</span></span></div><div class="line"><span class="function"><span class="comment">//读入一行先序次序的字符串建立二叉树，在main函数中先读入s, 使用时不用传入参数i</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">if</span>(s[i] == <span class="string">'#'</span>) T = <span class="literal">NULL</span>;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        T = <span class="keyword">new</span> BiTNode;</div><div class="line">        T-&gt;v = s[i];</div><div class="line">        ++i; CreateBiTree_PreOrder(T-&gt;l);</div><div class="line">        ++i; CreateBiTree_PreOrder(T-&gt;r);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateBiTree_from_Pre_and_In</span><span class="params">(BiTree &amp;t, <span class="built_in">string</span> pre, <span class="built_in">string</span> in)</span></span></div><div class="line"><span class="function"><span class="comment">//由先序序列和中序序列递归建树</span></span></div><div class="line"><span class="function"><span class="comment">//t为树节点的引用指针 *&amp;</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(pre.length()==<span class="number">0</span>)&#123;</div><div class="line">		t = <span class="literal">NULL</span>;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">char</span> root = pre[<span class="number">0</span>]; <span class="comment">//根</span></div><div class="line">	<span class="keyword">int</span> index = in.find(root); <span class="comment">//根在中序序列中的位置</span></div><div class="line">	<span class="built_in">string</span> lc_in = in.substr(<span class="number">0</span>, index); <span class="comment">//左孩子的中序序列</span></div><div class="line">	<span class="built_in">string</span> rc_in = in.substr(index+<span class="number">1</span>); <span class="comment">//右孩子的中序序列</span></div><div class="line">	<span class="keyword">int</span> lc_len = lc_in.length(); <span class="comment">//左孩子长度</span></div><div class="line">	<span class="keyword">int</span> rc_len = rc_in.length(); <span class="comment">//右孩子长度</span></div><div class="line">	<span class="built_in">string</span> lc_pre = pre.substr(<span class="number">1</span>, lc_len); <span class="comment">//左孩子的前序序列</span></div><div class="line">	<span class="built_in">string</span> rc_pre = pre.substr(lc_len + <span class="number">1</span>); <span class="comment">//右孩子的前序序列</span></div><div class="line"></div><div class="line">	t = <span class="keyword">new</span> BiTNode;</div><div class="line">	t-&gt;v = root;</div><div class="line">	CreateBiTree_from_Pre_and_In(t-&gt;l, lc_pre, lc_in);</div><div class="line">	CreateBiTree_from_Pre_and_In(t-&gt;r, rc_pre, rc_in);</div><div class="line">&#125;</div><div class="line"><span class="function">BiTNode *<span class="title">CreateBT2</span><span class="params">(<span class="keyword">char</span> *post,<span class="keyword">char</span> *in,<span class="keyword">int</span> n)</span></span></div><div class="line"><span class="function"><span class="comment">/*post存放后序序列,in存放中序序列,n为二叉树结点个数,</span></span></div><div class="line"><span class="function"><span class="comment">本算法执行后返回构造的二叉链的根结点指针*/</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	BiTNode *s;</div><div class="line">	<span class="keyword">char</span> r,*p;</div><div class="line">	<span class="keyword">int</span> k;</div><div class="line">	<span class="keyword">if</span> (n&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">	r=*(post+n<span class="number">-1</span>);							<span class="comment">//根结点值</span></div><div class="line">	s=<span class="keyword">new</span> BiTNode;		<span class="comment">//创建二叉树结点*s</span></div><div class="line">	s-&gt;v=r;</div><div class="line">	<span class="keyword">for</span> (p=in;p&lt;in+n;p++)					<span class="comment">//在in中查找根结点</span></div><div class="line">		<span class="keyword">if</span> (*p==r)</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">	k=p-in;									<span class="comment">//k为根结点在in中的下标</span></div><div class="line">	s-&gt;l=CreateBT2(post,in,k);			<span class="comment">//递归构造左子树</span></div><div class="line">	s-&gt;r=CreateBT2(post+k,p+<span class="number">1</span>,n-k<span class="number">-1</span>);	<span class="comment">//递归构造右子树</span></div><div class="line">	<span class="keyword">return</span> s;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateBiTNode</span><span class="params">(BiTNode * &amp;b,<span class="keyword">char</span> *str)</span></span></div><div class="line"><span class="function"><span class="comment">// 由广义表建树，结点为一个字符</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    BiTNode *St[maxn],*p=<span class="literal">NULL</span>;</div><div class="line">    <span class="keyword">int</span> top=<span class="number">-1</span>,k,j=<span class="number">0</span>;</div><div class="line">    <span class="keyword">char</span> ch;</div><div class="line">    b=<span class="literal">NULL</span>;             <span class="comment">//½¨Á¢µÄ¶þ²æÊ÷³õÊ¼Ê±Îª¿Õ</span></div><div class="line">    ch=str[j];</div><div class="line">    <span class="keyword">while</span> (ch!=<span class="string">'\0'</span>)    <span class="comment">//strÎ´É¨ÃèÍêÊ±Ñ­»·</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">switch</span>(ch)</div><div class="line">        &#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">'('</span>:top++;St[top]=p;k=<span class="number">1</span>; <span class="keyword">break</span>;        <span class="comment">//Îª×óº¢×Ó½áµã</span></div><div class="line">        <span class="keyword">case</span> <span class="string">')'</span>:top--;<span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">','</span>:k=<span class="number">2</span>; <span class="keyword">break</span>;                            <span class="comment">//Îªº¢×Ó½áµãÓÒ½áµã</span></div><div class="line">        <span class="keyword">default</span>:p = <span class="keyword">new</span> BiTNode;</div><div class="line">                p-&gt;v=ch;p-&gt;l=p-&gt;r=<span class="literal">NULL</span>;</div><div class="line">                <span class="keyword">if</span> (b==<span class="literal">NULL</span>)                            <span class="comment">//*pÎª¶þ²æÊ÷µÄ¸ù½áµã</span></div><div class="line">                    b=p;</div><div class="line">                <span class="keyword">else</span>                                <span class="comment">//ÒÑ½¨Á¢¶þ²æÊ÷¸ù½áµã</span></div><div class="line">                &#123;</div><div class="line">                    <span class="keyword">switch</span>(k)</div><div class="line">                    &#123;</div><div class="line">                    <span class="keyword">case</span> <span class="number">1</span>:St[top]-&gt;l=p;<span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="number">2</span>:St[top]-&gt;r=p;<span class="keyword">break</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">        &#125;</div><div class="line">        j++;</div><div class="line">        ch=str[j];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateBiTree_Lists_advanced</span><span class="params">(BiTree &amp;T, <span class="keyword">char</span> *st)</span></span></div><div class="line"><span class="function"><span class="comment">//广义表创建二叉树, 升级版，适用于结点数据是字符串的情况</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">int</span> Ltag=<span class="number">0</span>;</div><div class="line">	<span class="keyword">char</span> ch; <span class="keyword">char</span> c[maxc]; <span class="keyword">int</span> pp=<span class="number">0</span>;</div><div class="line">	BiTree s[<span class="number">1000</span>], p=<span class="literal">NULL</span>;</div><div class="line">	<span class="keyword">int</span> top=<span class="number">-1</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="built_in">strlen</span>(st); i++)&#123;</div><div class="line">	    ch = st[i];</div><div class="line">		<span class="keyword">switch</span>(ch)&#123;</div><div class="line">			<span class="keyword">case</span> <span class="string">'('</span>:</div><div class="line">                Ltag = <span class="number">1</span>;</div><div class="line">                <span class="keyword">if</span>(pp==<span class="number">0</span>) <span class="keyword">continue</span>;</div><div class="line">                s[++top]=p;</div><div class="line">                c[pp++] = <span class="string">'\0'</span>;</div><div class="line">                <span class="built_in">strcpy</span>(p-&gt;c, c);</div><div class="line">                pp=<span class="number">0</span>;</div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			<span class="keyword">case</span> <span class="string">')'</span>:</div><div class="line">			    <span class="keyword">if</span>(pp==<span class="number">0</span>) <span class="keyword">continue</span>;</div><div class="line">			    top--;</div><div class="line">				Ltag=<span class="number">3</span>;</div><div class="line">                c[pp++] = <span class="string">'\0'</span>;</div><div class="line">                <span class="built_in">strcpy</span>(p-&gt;c, c);</div><div class="line">                pp=<span class="number">0</span>;</div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			<span class="keyword">case</span> <span class="string">','</span>:</div><div class="line">			    Ltag = <span class="number">2</span>;</div><div class="line">			    <span class="keyword">if</span>(pp==<span class="number">0</span>) <span class="keyword">continue</span>;</div><div class="line">			    c[pp++] = <span class="string">'\0'</span>;</div><div class="line">                <span class="built_in">strcpy</span>(p-&gt;c, c);</div><div class="line">                pp=<span class="number">0</span>;</div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			<span class="keyword">default</span>:</div><div class="line">			    c[pp++] = ch;</div><div class="line">			    <span class="keyword">if</span>(Ltag==<span class="number">0</span>) &#123;</div><div class="line">                    p = <span class="keyword">new</span> BiTNode;</div><div class="line">                    T = p;</div><div class="line">                &#125;</div><div class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(Ltag==<span class="number">1</span>)&#123;</div><div class="line">                    p = <span class="keyword">new</span> BiTNode;</div><div class="line">                    s[top]-&gt;l = p;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(Ltag==<span class="number">2</span>)&#123;</div><div class="line">                    p = <span class="keyword">new</span> BiTNode;</div><div class="line">                    s[top]-&gt;r = p;</div><div class="line">                &#125;</div><div class="line">                Ltag = <span class="number">3</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(pp!=<span class="number">0</span>)&#123;</div><div class="line">        c[pp++] = <span class="string">'\0'</span>;</div><div class="line">        <span class="built_in">strcpy</span>(p-&gt;c, c);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-4-二叉树的应用（求深度、叶子节点数）"><a href="#2-4-二叉树的应用（求深度、叶子节点数）" class="headerlink" title="2.4 二叉树的应用（求深度、叶子节点数）"></a>2.4 二叉树的应用（求深度、叶子节点数）</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 二叉树的应用 */</span></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">	1. 计算叶子个数</span></div><div class="line"><span class="comment">	2. 求树的深度</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">CountLeaf</span><span class="params">(BiTree T, <span class="keyword">int</span> &amp;count)</span></span>&#123; <span class="comment">//计算叶片的数量，先序遍历</span></div><div class="line">	<span class="keyword">if</span>(T)&#123;</div><div class="line">		<span class="keyword">if</span>((!T-&gt;l) &amp;&amp; (!T-&gt;r)) count++; <span class="comment">//若左右子树均为空，则为叶子</span></div><div class="line">		<span class="keyword">else</span>&#123;</div><div class="line">			CountLeaf(T-&gt;l, count); CountLeaf(T-&gt;r, count);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">CountDepth</span><span class="params">(BiTree T)</span></span>&#123; <span class="comment">//返回二叉树的深度, 后序遍历</span></div><div class="line">    <span class="keyword">return</span> T==<span class="literal">NULL</span>? <span class="number">0</span> : <span class="number">1</span>+max(CountDepth(T-&gt;l), CountDepth(T-&gt;r));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-5-并查集"><a href="#2-5-并查集" class="headerlink" title="2.5 并查集"></a>2.5 并查集</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 并查集 */</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> pre[maxn];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> x)</span></span></div><div class="line"><span class="function"><span class="comment">// 查找x的老大，有路径压缩</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">return</span> pre[x]==x? x: pre[x]=Find(pre[x]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//初始化</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) pre[i] = i;</div></pre></td></tr></table></figure>
<h2 id="三、图"><a href="#三、图" class="headerlink" title="三、图"></a>三、图</h2><h3 id="3-1-邻接矩阵、邻接表"><a href="#3-1-邻接矩阵、邻接表" class="headerlink" title="3.1 邻接矩阵、邻接表"></a>3.1 邻接矩阵、邻接表</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</div><div class="line"><span class="comment">//邻接矩阵</span></div><div class="line"><span class="keyword">int</span> <span class="built_in">map</span>[maxn][maxn];</div><div class="line"><span class="comment">//邻接表</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> u, v, w; <span class="comment">//from，to，len</span></div><div class="line">    Edge(<span class="keyword">int</span> f, <span class="keyword">int</span> t, <span class="keyword">int</span> l)&#123;u=f; v=t; w=l;&#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">vector</span>&lt;Edge&gt; N[maxn];</div></pre></td></tr></table></figure>
<h3 id="3-2-广搜、深搜"><a href="#3-2-广搜、深搜" class="headerlink" title="3.2 广搜、深搜"></a>3.2 广搜、深搜</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 图的广搜、深搜 */</span></div><div class="line"><span class="comment">/* 默认采用邻接矩阵 */</span></div><div class="line"><span class="comment">/* 顶点编号从0开始！！ */</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#includ<span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">110</span>; <span class="comment">//最大顶点个数</span></div><div class="line"><span class="keyword">bool</span> <span class="built_in">map</span>[maxn][maxn]; <span class="comment">//邻接矩阵</span></div><div class="line"><span class="keyword">bool</span> vis[maxn];</div><div class="line"><span class="keyword">int</span> n, m; <span class="comment">//顶点数，边数</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d "</span>, v);</div><div class="line">	vis[v] = <span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</div><div class="line">		<span class="keyword">int</span> cur = <span class="built_in">map</span>[v][i];</div><div class="line">		<span class="keyword">if</span>(cur &amp;&amp; vis[i] == <span class="number">0</span>) DFS(i);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS1</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(vis[i]==<span class="number">0</span>) DFS(i);</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> <span class="built_in">queue</span>[maxn], rear=<span class="number">0</span>, front=<span class="number">0</span>; <span class="comment">//循环队列queue</span></div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d "</span>, v);</div><div class="line">	vis[v] = <span class="number">1</span>;</div><div class="line">	rear = (rear+<span class="number">1</span>) % maxn;</div><div class="line">	<span class="built_in">queue</span>[rear] = v;</div><div class="line">	<span class="keyword">while</span>(rear != front)&#123;</div><div class="line">		front = (front+<span class="number">1</span>) % maxn;</div><div class="line">		<span class="keyword">int</span> w = <span class="built_in">queue</span>[front];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">int</span> cur = <span class="built_in">map</span>[w][i];</div><div class="line">			<span class="keyword">if</span>(cur &amp;&amp; vis[i] == <span class="number">0</span>)&#123;</div><div class="line">				rear = (rear+<span class="number">1</span>) % maxn;</div><div class="line">				<span class="built_in">queue</span>[rear] = i;</div><div class="line">				vis[i] = <span class="number">1</span>;</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%d "</span>, i);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS1</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; b; ++i)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(vis[i]==<span class="number">0</span>) BFS(i);</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(<span class="built_in">map</span>, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="built_in">map</span>)); <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-3-最小生成树"><a href="#3-3-最小生成树" class="headerlink" title="3.3 最小生成树"></a>3.3 最小生成树</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 求最小生成树 */</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10010</span>; <span class="comment">//最大顶点数</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXV = <span class="number">100010</span>; <span class="comment">//最大边数</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f       <span class="comment">/*INF表示∞*/</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Prim</span><span class="params">(<span class="keyword">int</span> cost[][MAXV],<span class="keyword">int</span> n,<span class="keyword">int</span> v)</span></span></div><div class="line"><span class="function"><span class="comment">//Prim 适用于邻接矩阵，稠密图</span></span></div><div class="line"><span class="function"></span>&#123;     </div><div class="line">	<span class="keyword">int</span> lowcost[MAXV],min;</div><div class="line">    <span class="keyword">int</span> closest[MAXV],i,j,k;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)     <span class="comment">/*给lowcost[]和closest[]置初值*/</span></div><div class="line">    &#123;   </div><div class="line">        lowcost[i]=cost[v][i];</div><div class="line">        closest[i]=v;	</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;n;i++)       	<span class="comment">/*找出n-1个顶点*/</span></div><div class="line">    &#123;    </div><div class="line">        min=INF;</div><div class="line">        <span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;n;j++)  <span class="comment">/*在(V-U)中找出离U最近的顶点k*/</span></div><div class="line">	        <span class="keyword">if</span> (lowcost[j]!=<span class="number">0</span> &amp;&amp; lowcost[j]&lt;min) &#123;  min=lowcost[j]; k=j;   &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"边(%d,%d)权为:%d\n"</span>,closest[k],k,min);</div><div class="line">        lowcost[k]=<span class="number">0</span>;         	<span class="comment">/*标记k已经加入U*/</span></div><div class="line">        <span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;n;j++)   	<span class="comment">/*修改数组lowcost和closest*/</span></div><div class="line">            <span class="keyword">if</span> (cost[k][j]!=<span class="number">0</span> &amp;&amp; cost[k][j]&lt;lowcost[j]) </div><div class="line">            &#123;   lowcost[j]=cost[k][j]; closest[j]=k; &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> </span></div><div class="line"><span class="class">&#123;</span>	 </div><div class="line">    <span class="keyword">int</span> u;     <span class="comment">/*边的起始顶点*/</span></div><div class="line">  	<span class="keyword">int</span> v;     <span class="comment">/*边的终止顶点*/</span></div><div class="line">  	<span class="keyword">int</span> w;     <span class="comment">/*边的权值*/</span></div><div class="line">&#125;Edge; </div><div class="line">Edge E[MAXV];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Kruskal</span><span class="params">(Edge E[],<span class="keyword">int</span> n,<span class="keyword">int</span> e)</span> <span class="comment">//边，顶点数，边数</span></span></div><div class="line"><span class="function"><span class="comment">//Kruskal，适用于邻接表，稀疏图</span></span></div><div class="line"><span class="function"><span class="comment">//使用前须将边按权值升序排序</span></span></div><div class="line"><span class="function"></span>&#123;    </div><div class="line">    <span class="keyword">int</span> i,j,m1,m2,sn1,sn2,k; <span class="keyword">int</span> vset[maxn];</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++) vset[i]=i;	<span class="comment">/*初始化辅助数组*/</span></div><div class="line">    k=<span class="number">1</span>;   <span class="comment">/*k表示当前构造最小生成树的第几条边,初值为1*/</span></div><div class="line">    j=<span class="number">0</span>;   <span class="comment">/*E中边的下标,初值为0*/</span></div><div class="line">    <span class="keyword">while</span> (k&lt;n)   <span class="comment">/*生成的边数小于n时循环*/</span></div><div class="line">    &#123;      </div><div class="line">        m1=E[j].u;m2=E[j].v;       <span class="comment">/*取一条边的头尾顶点*/</span></div><div class="line">    	sn1=vset[m1];sn2=vset[m2]; <span class="comment">/*分别得到两个顶点所属的集合编号*/</span></div><div class="line">        <span class="keyword">if</span> (sn1!=sn2) 	  <span class="comment">/*属不同的集合-&gt;最小生成树的一条边*/</span></div><div class="line">    	&#123;     </div><div class="line">            <span class="built_in">printf</span>(<span class="string">"(%d,%d):%d\n"</span>,m1,m2,E[j].w);</div><div class="line">            k++;                    	     <span class="comment">/*生成边数增1*/</span></div><div class="line">            <span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)      <span class="comment">/*两个集合统一编号*/</span></div><div class="line">        		<span class="keyword">if</span> (vset[i]==sn2)  vset[i]=sn1; <span class="comment">/*集合编号为sn2的改为sn1*/</span></div><div class="line">	    &#125;</div><div class="line">	    j++;   	<span class="comment">/*扫描下一条边*/</span></div><div class="line">    &#125;    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-4-拓扑排序"><a href="#3-4-拓扑排序" class="headerlink" title="3.4 拓扑排序"></a>3.4 拓扑排序</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 拓扑排序 */</span></div><div class="line"></div><div class="line"><span class="comment">//邻接矩阵实现</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 100</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">toposort</span><span class="params">(<span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX],<span class="keyword">int</span> indegree[MAX],<span class="keyword">int</span> n)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> i,j,k;</div><div class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) <span class="comment">//遍历n次</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++) <span class="comment">//找出入度为0的节点</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(indegree[j]==<span class="number">0</span>)</div><div class="line">            &#123;</div><div class="line">                indegree[j]--;</div><div class="line">                <span class="built_in">cout</span>&lt;&lt;j+<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">                <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;n;k++) <span class="comment">//删除与该节点关联的边</span></div><div class="line">                &#123;</div><div class="line">                    <span class="keyword">if</span>(<span class="built_in">map</span>[j][k]==<span class="number">1</span>)</div><div class="line">                    &#123;</div><div class="line">                        indegree[k]--;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> n,m; <span class="comment">//n:关联的边数，m:节点数</span></div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;n,&amp;m)==<span class="number">2</span>&amp;&amp;n!=<span class="number">0</span>)&#123;</div><div class="line">        <span class="keyword">int</span> i; <span class="keyword">int</span> x, y;</div><div class="line">        <span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX]; <span class="comment">//邻接矩阵</span></div><div class="line">        <span class="keyword">int</span> indegree[MAX]; <span class="comment">//入度</span></div><div class="line">        <span class="built_in">memset</span>(<span class="built_in">map</span>,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="built_in">map</span>)); <span class="built_in">memset</span>(indegree,<span class="number">0</span>,<span class="keyword">sizeof</span>(indegree));</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;y);</div><div class="line">            --x; --y;</div><div class="line">            <span class="keyword">if</span>(!<span class="built_in">map</span>[x][y])&#123;   </div><div class="line">                <span class="built_in">map</span>[x][y]=<span class="number">1</span>; </div><div class="line">                indegree[y]++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        toposort(<span class="built_in">map</span>,indegree,m);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*##################################################*/</span></div><div class="line"><span class="comment">//邻接表+栈实现</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1010 <span class="comment">//最大结点数</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> u, v, w; <span class="comment">//from，to，len</span></div><div class="line">	Edge(<span class="keyword">int</span> f, <span class="keyword">int</span> t, <span class="keyword">int</span> l)&#123;u=f; v=t; w=l;&#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">vector</span>&lt;Edge&gt; N[maxn];</div><div class="line"><span class="keyword">int</span> In[maxn]; <span class="keyword">int</span> topoArray[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">FindIndegree</span><span class="params">(<span class="keyword">int</span> n)</span> <span class="comment">//顶点个数</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</div><div class="line">		<span class="keyword">if</span>(!N[i].empty())&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;N[i].size(); j++) In[N[i][j].v]++;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">TopSort</span><span class="params">(<span class="keyword">int</span> n)</span> <span class="comment">//拓扑序列，顶点个数</span></span></div><div class="line"><span class="function"><span class="comment">//在有向图中选一个入度为0的点，输出</span></span></div><div class="line"><span class="function"><span class="comment">//从图中删除该点和所有以它为起点的弧</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; S;</div><div class="line">	<span class="keyword">int</span> w, count=<span class="number">0</span>;</div><div class="line"></div><div class="line">	<span class="built_in">memset</span>(In, <span class="number">0</span>, <span class="keyword">sizeof</span>(In));</div><div class="line">	FindIndegree(n);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</div><div class="line">		<span class="keyword">if</span>(In[i]==<span class="number">0</span>) S.push(i);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">while</span>(!S.empty())&#123;</div><div class="line">		w = S.top(); S.pop();</div><div class="line">		topoArray[count++] = w;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;N[w].size(); i++)&#123;</div><div class="line">			<span class="keyword">if</span>(--In[N[w][i].v]==<span class="number">0</span>) S.push(N[w][i].v);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> count;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m, x, y;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m)==<span class="number">2</span>)&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) N[i].clear();</div><div class="line">        <span class="keyword">while</span>(m--)&#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y);</div><div class="line">            x--; y--;</div><div class="line">            N[x].push_back(Edge(x, y, <span class="number">1</span>));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> cnt = TopSort(n);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;cnt; i++) <span class="built_in">printf</span>(<span class="string">"%d "</span>, topoArray[i]+<span class="number">1</span>);</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-5-关键路径"><a href="#3-5-关键路径" class="headerlink" title="3.5 关键路径"></a>3.5 关键路径</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//关键路径(spfa+最小字典序)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;  </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;  </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;  </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200001  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f  </span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>  </span></div><div class="line"><span class="class">&#123;</span>  </div><div class="line">    <span class="keyword">int</span> v,w,next;  </div><div class="line">&#125; s[maxn];  </div><div class="line"><span class="keyword">int</span> m,n,cnt;  </div><div class="line"><span class="keyword">int</span> dis[maxn],vis[maxn],pre[maxn],head[maxn];  </div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span>  </span></div><div class="line"><span class="function"></span>&#123;  </div><div class="line">    s[cnt].v=v;  </div><div class="line">    s[cnt].w=w;  </div><div class="line">    s[cnt].next=head[u];  </div><div class="line">    head[u]=cnt++;  </div><div class="line">&#125;  </div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> ss,<span class="keyword">int</span> ee)</span>  </span></div><div class="line"><span class="function"></span>&#123;  </div><div class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;  </div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)  </div><div class="line">    &#123;  </div><div class="line">        dis[i]=-INF;  </div><div class="line">    &#125;  </div><div class="line">    dis[ss]=<span class="number">0</span>;  </div><div class="line">    vis[ss]=<span class="number">1</span>;  </div><div class="line">    q.push(ss);  </div><div class="line">    <span class="keyword">while</span>(!q.empty())  </div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">int</span> u=q.front();  </div><div class="line">        q.pop();  </div><div class="line">        vis[u]=<span class="number">0</span>;  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u]; i!=<span class="number">-1</span>; i=s[i].next)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">int</span> v=s[i].v,w=s[i].w;  </div><div class="line">            <span class="keyword">if</span>(dis[v]&lt;dis[u]+w||(dis[v]==dis[u]+w&amp;&amp;pre[v]&gt;u))  </div><div class="line">            &#123;  </div><div class="line">                pre[v]=u;  </div><div class="line">                dis[v]=dis[u]+w;  </div><div class="line">                <span class="comment">//printf("%d\n",dis[v]);  </span></div><div class="line">                <span class="keyword">if</span>(!vis[v])  </div><div class="line">                &#123;  </div><div class="line">                    vis[v]=<span class="number">1</span>;  </div><div class="line">                    q.push(v);  </div><div class="line">                &#125;  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dis[ee]);  </div><div class="line">    <span class="keyword">int</span> t=ee;  </div><div class="line">    <span class="keyword">while</span>(t!=ss)  </div><div class="line">    &#123;  </div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,t,pre[t]);  </div><div class="line">        t=pre[t];  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">&#125;  </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></div><div class="line"><span class="function"></span>&#123;  </div><div class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m))  </div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">int</span> i,j;  </div><div class="line">  </div><div class="line">        <span class="keyword">int</span> in[maxn],out[maxn];  </div><div class="line">        cnt=<span class="number">0</span>;  </div><div class="line">        <span class="built_in">memset</span>(in,<span class="number">0</span>,<span class="keyword">sizeof</span>(in));  </div><div class="line">        <span class="built_in">memset</span>(out,<span class="number">0</span>,<span class="keyword">sizeof</span>(out));  </div><div class="line">        <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));  </div><div class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));  </div><div class="line">        <span class="built_in">memset</span>(pre,<span class="number">-1</span>,<span class="keyword">sizeof</span>(pre));  </div><div class="line">  </div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">int</span> u,v,w;  </div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;u,&amp;v,&amp;w);  </div><div class="line">            add(v,u,w);  </div><div class="line">            in[u]++;  </div><div class="line">            out[v]++;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">int</span> ss,ee;  </div><div class="line">  </div><div class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">if</span>(!in[i]) ss=i;  </div><div class="line">            <span class="keyword">if</span>(!out[i]) ee=i;  </div><div class="line">        &#125;  </div><div class="line">        spfa(ss,ee);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-6-最短路"><a href="#3-6-最短路" class="headerlink" title="3.6 最短路"></a>3.6 最短路</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 最短路 */</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXV = <span class="number">110</span>; <span class="comment">//最大顶点数</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1010</span>; <span class="comment">//最大边数</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> //邻接表所用的边，使用<span class="title">vector</span></span></div><div class="line"><span class="class">&#123;</span></div><div class="line">	<span class="keyword">int</span> from, to, len;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">int</span> cost[MAXV][MAXV]; <span class="comment">//邻接矩阵, 编号从0~n-1</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Ppath</span><span class="params">(<span class="keyword">int</span> path[],<span class="keyword">int</span> i,<span class="keyword">int</span> v0)</span> </span></div><div class="line"><span class="function"><span class="comment">/*前向递归查找路径上的顶点*/</span></span></div><div class="line"><span class="function"></span>&#123;    <span class="keyword">int</span> k;</div><div class="line">    k=path[i];</div><div class="line">    <span class="keyword">if</span> (k==v0)  <span class="keyword">return</span>;	<span class="comment">/*找到了起点则返回*/</span></div><div class="line">    Ppath(path,k,v0);	<span class="comment">/*找k顶点的前一个顶点*/</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d,"</span>,k);	<span class="comment">/*输出k顶点*/</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dispath</span><span class="params">(<span class="keyword">int</span> dist[],<span class="keyword">int</span> path[],<span class="keyword">int</span> s[],<span class="keyword">int</span> n,<span class="keyword">int</span> v0)</span></span></div><div class="line"><span class="function"></span>&#123;      </div><div class="line">	<span class="keyword">int</span> i;</div><div class="line">   	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">	<span class="keyword">if</span> (s[i]==<span class="number">1</span>) </div><div class="line">	&#123;     </div><div class="line">		<span class="built_in">printf</span>(<span class="string">"从%d到%d的最短路径长度为:%d\t路径为:"</span>,v0,i,dist[i]);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d,"</span>,v0);	<span class="comment">/*输出路径上的起点*/</span></div><div class="line">        Ppath(path,i,v0);	<span class="comment">/*输出路径上的中间点*/</span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,i);	<span class="comment">/*输出路径上的终点*/</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span>  <span class="built_in">printf</span>(<span class="string">"从%d到%d不存在路径\n"</span>,v0,i);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="3-6-1-单源最短路"><a href="#3-6-1-单源最短路" class="headerlink" title="3.6.1 单源最短路"></a>3.6.1 单源最短路</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> v0)</span> </span></div><div class="line"><span class="function"><span class="comment">//求从v0到任意一点的最短路</span></span></div><div class="line"><span class="function"><span class="comment">//适用于稠密图，邻接矩阵</span></span></div><div class="line"><span class="function"></span>&#123;      </div><div class="line">	<span class="keyword">int</span> dist[MAXV],path[MAXV]; <span class="keyword">int</span> s[MAXV];<span class="keyword">int</span> mindis,i,j,u;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++) </div><div class="line">    &#123;    </div><div class="line">    	dist[i]=cost[v0][i];   		<span class="comment">/*距离初始化*/</span></div><div class="line">	    s[i]=<span class="number">0</span>;                		<span class="comment">/*s[]置空*/</span></div><div class="line">	    <span class="keyword">if</span> (cost[v0][i]&lt;INF)		<span class="comment">/*路径初始化*/</span></div><div class="line">	        path[i]=v0;</div><div class="line">	    <span class="keyword">else</span></div><div class="line">	        path[i]=<span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">    s[v0]=<span class="number">1</span>;path[v0]=<span class="number">0</span>;  	<span class="comment">/*源点编号v0放入s中*/</span></div><div class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)   <span class="comment">/*循环直到所有顶点的最短路径都求出*/</span></div><div class="line">    &#123;     </div><div class="line">        mindis=INF;</div><div class="line">	  	u=<span class="number">-1</span>;</div><div class="line">	  	<span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;n;j++)    <span class="comment">/*选取不在s中且具有最小距离的顶点u*/</span></div><div class="line">	        <span class="keyword">if</span> (s[j]==<span class="number">0</span> &amp;&amp; dist[j]&lt;mindis) &#123;  u=j; mindis=dist[j];	&#125;</div><div class="line">	  	s[u]=<span class="number">1</span>;               	<span class="comment">/*顶点u加入s中*/</span></div><div class="line">	  	<span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;n;j++)      <span class="comment">/*修改不在s中的顶点的距离*/</span></div><div class="line">	        <span class="keyword">if</span> (s[j]==<span class="number">0</span>) </div><div class="line">				<span class="keyword">if</span> (cost[u][j]&lt;INF &amp;&amp; dist[u]+cost[u][j]&lt;dist[j]) </div><div class="line">				&#123;   dist[j]=dist[u]+cost[u][j]; path[j]=u; &#125;  </div><div class="line">	&#125;</div><div class="line">    Dispath(dist,path,s,n,v0);  	<span class="comment">/*输出最短路径*/</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="3-6-2-SPFA"><a href="#3-6-2-SPFA" class="headerlink" title="3.6.2 SPFA"></a>3.6.2 SPFA</h4><p>​    设立一个队列用来保存待优化的顶点，优化时每次取出队首顶点 u，并且用 u 点当前的最短路径估计值dist[u]对与 u 点直接邻接的顶点 v 进行松弛操作，如果 v 点的最短路径估计值dist[v]可以更小，且 v 点不在当前的队列中，就将 v 点放入队尾。这样不断从队列中取出顶点来进行松弛操作，直至队列空为止。（所谓的松弛操作，简单来说，对于顶点 i，把dist[i]调整更小或更大。更多解释请参考百科：松弛操作)</p>
<pre><code> 而其检测负权回路的方法也很简单，如果某个点进入队列的次数大于等于 n，则存在负权回路，其中 n 为图的顶点数。
</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> dis[MAXV]; <span class="comment">//从起点s到各顶点的距离，使用前要初始化为INF</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">SPFA</span><span class="params">(<span class="keyword">int</span> s)</span></span></div><div class="line"><span class="function"><span class="comment">//求单源最短路，以s为起点</span></span></div><div class="line"><span class="function"><span class="comment">//适用于稀疏图，邻接表</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">bool</span> vis[MAXV] = &#123;<span class="number">0</span>&#125;;</div><div class="line">    <span class="built_in">queue</span>&lt;<span class="built_in">vector</span>&lt;Edge&gt;&gt; Q; <span class="built_in">vector</span>&lt;Edge&gt; cur;</div><div class="line"></div><div class="line">    dis[s] = <span class="number">0</span>; Q.push(N[s]); vis[s] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(!Q.empty())&#123;</div><div class="line">        cur = Q.front(); Q.pop();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;cur.size(); i++)&#123;</div><div class="line">            <span class="keyword">int</span> from = cur[<span class="number">0</span>].from;</div><div class="line">            <span class="keyword">if</span>(dis[from] + cur[i].len &lt; dis[cur[i].to])&#123;</div><div class="line">                dis[cur[i].to] = dis[from] + cur[i].len;</div><div class="line">                <span class="keyword">if</span>(!vis[cur[i].to])&#123;</div><div class="line">                    Q.push(N[cur[i].to]); vis[cur[i].to] = <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            vis[from] = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="3-6-3-多源最短路"><a href="#3-6-3-多源最短路" class="headerlink" title="3.6.3 多源最短路"></a>3.6.3 多源最短路</h4><p>Floyd</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Floyd</span><span class="params">(<span class="keyword">int</span> cost[][MAXV],<span class="keyword">int</span> n)</span> <span class="comment">//求任意两点间的最短路</span></span></div><div class="line"><span class="function"></span>&#123;   <span class="keyword">int</span> A[MAXV][MAXV],path[MAXV][MAXV];<span class="keyword">int</span> i,j,k;</div><div class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">		<span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;n;j++) </div><div class="line">		     &#123; A[i][j]=cost[i][j]; path[i][j]=<span class="number">-1</span>; &#125;</div><div class="line">	<span class="keyword">for</span> (k=<span class="number">0</span>;k&lt;n;k++)</div><div class="line">		<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">		   <span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;n;j++)</div><div class="line">				<span class="keyword">if</span> (A[i][k]&lt;INF &amp;&amp; A[k][j]&lt;INF &amp;&amp; A[i][j]&gt;(A[i][k]+A[k][j])) </div><div class="line">		                &#123; A[i][j]=A[i][k]+A[k][j]; path[i][j]=k; &#125;</div><div class="line">	<span class="comment">//Dispath(A,path,n);   /*输出最短路径*/</span></div><div class="line">    <span class="keyword">int</span> M = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)&#123;</div><div class="line">    		<span class="keyword">if</span>(A[i][j] &lt; INF &amp;&amp; A[i][j] &gt; M) M = A[i][j];</div><div class="line">    	&#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, M);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-7-堆"><a href="#3-7-堆" class="headerlink" title="3.7 堆"></a>3.7 堆</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">****小顶堆(优先队列)的实现</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100010</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">int</span> A[MAXN], heapSize, length;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Heapify</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> i)</span></span></div><div class="line"><span class="function"><span class="comment">// 维护堆，i的左右子树均是小顶堆</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">int</span> l = i*<span class="number">2</span>, r = i*<span class="number">2</span>+<span class="number">1</span>;</div><div class="line">	<span class="keyword">int</span> smallest;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(l&lt;=heapSize &amp;&amp; A[l]&lt;A[i])</div><div class="line">		smallest = l;</div><div class="line">	<span class="keyword">else</span> smallest = i;</div><div class="line">	<span class="keyword">if</span>(r&lt;=heapSize &amp;&amp; A[r]&lt;A[smallest])</div><div class="line">		smallest = r;</div><div class="line">	<span class="keyword">if</span>(smallest != i)&#123;</div><div class="line">		<span class="keyword">int</span> t = A[i]; A[i] = A[smallest]; A[smallest] = t;</div><div class="line">		Heapify(A, smallest);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Heap_build</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> length)</span></span></div><div class="line"><span class="function"><span class="comment">// 建立堆,length为数组元素个数</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	heapSize = length;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=length/<span class="number">2</span>; i&gt;=<span class="number">1</span>; i--) <span class="comment">//由下至上建堆</span></div><div class="line">		Heapify(A, i);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Heap_top</span><span class="params">(<span class="keyword">int</span> A[])</span></span></div><div class="line"><span class="function"><span class="comment">// 取堆顶元素</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">return</span> A[<span class="number">1</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Heap_pop</span><span class="params">(<span class="keyword">int</span> A[])</span></span></div><div class="line"><span class="function"><span class="comment">// 弹出堆顶元素</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(heapSize &lt; <span class="number">1</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">-1</span>; <span class="comment">//error</span></div><div class="line">	<span class="keyword">int</span> top = A[<span class="number">1</span>];</div><div class="line">	A[<span class="number">1</span>] = A[heapSize--];</div><div class="line">	Heapify(A, <span class="number">1</span>);</div><div class="line">	<span class="keyword">return</span> top;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Heap_change</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> i, <span class="keyword">int</span> key)</span></span></div><div class="line"><span class="function"><span class="comment">// 修改A[i]的值至key</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(key &lt; A[i])</div><div class="line">	<span class="comment">// 若变小了，由下自上调整</span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">while</span>(i&gt;<span class="number">1</span> &amp;&amp; A[i/<span class="number">2</span>]&gt;A[i])&#123;</div><div class="line">			<span class="keyword">int</span> t = A[i]; A[i] = A[i/<span class="number">2</span>]; A[i/<span class="number">2</span>] = t;</div><div class="line">			i = i/<span class="number">2</span>;</div><div class="line"> 		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	<span class="comment">//若变大了，维护以i为顶的小顶堆</span></div><div class="line">	&#123;</div><div class="line">		A[i] = key;</div><div class="line">		Heapify(A, i);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Heap_push</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> key)</span></span></div><div class="line"><span class="function"><span class="comment">// 插入元素key</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	A[++heapSize] = -INF;</div><div class="line">	Heap_change(A, heapSize, key);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="四、动态规划"><a href="#四、动态规划" class="headerlink" title="四、动态规划"></a>四、动态规划</h2><h3 id="4-1-背包问题"><a href="#4-1-背包问题" class="headerlink" title="4.1 背包问题"></a>4.1 背包问题</h3><p>0-1背包，完全背包，多重背包，组合背包</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">****背包问题: </span></div><div class="line"><span class="comment">****有N件物品和一个容量为V的背包。第i件物品的费用是c[i]，价值是w[i]。</span></div><div class="line"><span class="comment">****求解将哪些物品装入背包可使价值总和最大。</span></div><div class="line"><span class="comment">****</span></div><div class="line"><span class="comment">****f[i][v]: 前i件物品放入容量为v的背包能获得的最大价值。</span></div><div class="line"><span class="comment">****转移方程: f[i][v]=max&#123;f[i-1][v],f[i-1][v-c[i]]+w[i]&#125;</span></div><div class="line"><span class="comment">****时间O(NV), 空间O(V)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXV = <span class="number">20010</span>; <span class="comment">//最大容量</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">310</span>; <span class="comment">//最大物品数</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> f[MAXV]; <span class="comment">//相当于f[i][v]，进行了空间优化</span></div><div class="line"><span class="keyword">int</span> c[MAXN]; <span class="comment">// 费用</span></div><div class="line"><span class="keyword">int</span> w[MAXN]; <span class="comment">// 价值</span></div><div class="line"><span class="keyword">int</span> n[MAXN]; <span class="comment">//每件物品最多的个数</span></div><div class="line"><span class="keyword">int</span> V, N; <span class="comment">//总容量，总物品数</span></div><div class="line"></div><div class="line"><span class="comment">//初始化f数组，分为两种情况</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">initF</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="comment">// 不需要刚好填满背包</span></div><div class="line">	<span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span>(f));</div><div class="line"></div><div class="line">	<span class="comment">//需要刚好填满背包</span></div><div class="line">	<span class="comment">// f[0] = 0;</span></div><div class="line">	<span class="comment">// for(int i=1; i&lt;MAXV; i++)</span></div><div class="line">	<span class="comment">// 	f[i] = -INF;</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">****0-1背包：有N件物品和一个容量为V的背包。第i件物品的费用是c[i]，价值是w[i]。</span></div><div class="line"><span class="comment">****求解将哪些物品装入背包可使价值总和最大。</span></div><div class="line"><span class="comment">****转移方程: f[i][v]=max&#123;f[i-1][v],f[i-1][v-c[i]]+w[i]&#125;</span></div><div class="line"><span class="comment">****时间O(NV), 空间O(V)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">zeroOnePack</span><span class="params">(<span class="keyword">int</span> cost, <span class="keyword">int</span> weight)</span> </span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> v=V; v&gt;=cost; v--) &#123;</div><div class="line">		f[v] = max(f[v], f[v-cost]+weight);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// int getAnswer() &#123;</span></div><div class="line"><span class="comment">//  initF();</span></div><div class="line"><span class="comment">// 	for(int i=1; i&lt;=N; i++) &#123;</span></div><div class="line"><span class="comment">// 		zeroOnePack(c[i], w[i]);</span></div><div class="line"><span class="comment">// 	&#125;</span></div><div class="line"><span class="comment">// 	return f[V];</span></div><div class="line"><span class="comment">// &#125;</span></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">****完全背包：有N种物品和一个容量为V的背包，每种物品都有无限件可用。</span></div><div class="line"><span class="comment">****第i种物品的费用是c[i]，价值是w[i]。</span></div><div class="line"><span class="comment">****求解将哪些物品装入背包可使这些物品的费用总和不超过背包容量，且价值总和最大。</span></div><div class="line"><span class="comment">****转移方程：f[i][v]=max&#123;f[i-1][v-k*c[i]]+k*w[i]|0&lt;=k*c[i]&lt;=v&#125;</span></div><div class="line"><span class="comment">****时间O(NV), 空间O(V)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">completePack</span><span class="params">(<span class="keyword">int</span> cost, <span class="keyword">int</span> weight)</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> v = cost; v &lt;= V; v++)</div><div class="line">		f[v] = max(f[v], f[v-cost]+weight);</div><div class="line">&#125;</div><div class="line"><span class="comment">// int getAnswer()&#123;</span></div><div class="line"><span class="comment">//  initF();</span></div><div class="line"><span class="comment">// 	for(int i=1; i&lt;=N; i++)</span></div><div class="line"><span class="comment">// 		completePack(c[i], w[i]);</span></div><div class="line"><span class="comment">// 	return f[V];</span></div><div class="line"><span class="comment">// &#125;</span></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">****多重背包：有N种物品和一个容量为V的背包。</span></div><div class="line"><span class="comment">****第i种物品最多有n[i]件可用，每件费用是c[i]，价值是w[i]。</span></div><div class="line"><span class="comment">****求解将哪些物品装入背包可使这些物品的费用总和不超过背包容量，且价值总和最大。</span></div><div class="line"><span class="comment">****转移方程：f[i][v]=max&#123;f[i-1][v-k*c[i]]+k*w[i]|0&lt;=k&lt;=n[i]&#125;</span></div><div class="line"><span class="comment">****时间O(V*Σlog n[i])</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">multiplePack</span><span class="params">(<span class="keyword">int</span> cost, <span class="keyword">int</span> weight, <span class="keyword">int</span> amount)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span>(cost * amount &gt;= V)</div><div class="line">		completePack(cost, weight);</div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">		<span class="keyword">int</span> k = <span class="number">1</span>;</div><div class="line">		<span class="keyword">while</span>(k &lt; amount)&#123;</div><div class="line">			zeroOnePack(k*cost, k*weight);</div><div class="line">			amount -= k;</div><div class="line">			k &lt;&lt; <span class="number">1</span>; <span class="comment">// k *= 2</span></div><div class="line">		&#125;</div><div class="line">		zeroOnePack(amount*cost, amount*weight);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// int getAnswer()&#123;</span></div><div class="line"><span class="comment">// 	initF();</span></div><div class="line"><span class="comment">// 	for(int i=1; i&lt;=N; i++)</span></div><div class="line"><span class="comment">// 		multiplePack(c[i], w[i], n[i]);</span></div><div class="line"><span class="comment">// 	return f[V];</span></div><div class="line"><span class="comment">// &#125;</span></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">****组合背包问题：有的物品只可以取一次（01背包），有的物品可以取无限次（完全背包），</span></div><div class="line"><span class="comment">****有的物品可以取的次数有一个上限（多重背包）。</span></div><div class="line"><span class="comment">****分情况讨论，就不写函数了</span></div><div class="line"><span class="comment">****时间O(V*Σlog n[i])</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;V, &amp;N) == <span class="number">2</span>) &#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=N; i++) <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;w[i], &amp;c[i]);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, getAnswer());</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-2-矩阵连乘"><a href="#4-2-矩阵连乘" class="headerlink" title="4.2 矩阵连乘"></a>4.2 矩阵连乘</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1010</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> p[MAXN], m[MAXN][MAXN], s[MAXN][MAXN];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">MatrixChain</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">		m[i][i] = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> l=<span class="number">2</span>; l&lt;=n; l++)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n-l+<span class="number">1</span>; i++)&#123;</div><div class="line">			<span class="keyword">int</span> j = i + l - <span class="number">1</span>;</div><div class="line">			m[i][j] = INF;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=i; k&lt;=j<span class="number">-1</span>; k++)&#123;</div><div class="line">				<span class="keyword">int</span> q = m[i][k] + m[k+<span class="number">1</span>][j] + p[i<span class="number">-1</span>]*p[k]*p[j];</div><div class="line">				<span class="keyword">if</span>(q &lt; m[i][j])&#123;</div><div class="line">					m[i][j] = q;</div><div class="line">					s[i][j] = k;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(i == j)</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"A%d"</span>, i);</div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"("</span>);</div><div class="line">		Print(i, s[i][j]);</div><div class="line">		Print(s[i][j]+<span class="number">1</span>, j);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">")"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=n; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;p[i]);</div><div class="line">		MatrixChain(n);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, m[<span class="number">1</span>][n]);</div><div class="line">		Print(<span class="number">1</span>, n);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-3-最长公共子序列"><a href="#4-3-最长公共子序列" class="headerlink" title="4.3 最长公共子序列"></a>4.3 最长公共子序列</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1010</span>;</div><div class="line"></div><div class="line"><span class="keyword">char</span> a[MAXN], b[MAXN];</div><div class="line"><span class="keyword">int</span> dp[MAXN][MAXN];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s%s"</span>, a+<span class="number">1</span>, b+<span class="number">1</span>) == <span class="number">2</span>)&#123;</div><div class="line">		<span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</div><div class="line">		<span class="keyword">int</span> la = <span class="built_in">strlen</span>(a+<span class="number">1</span>);</div><div class="line">		<span class="keyword">int</span> lb = <span class="built_in">strlen</span>(b+<span class="number">1</span>);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=la; i++)&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=lb; j++)&#123;</div><div class="line">				<span class="keyword">if</span>(a[i] == b[j])</div><div class="line">					dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span>;</div><div class="line">				<span class="keyword">else</span></div><div class="line">					dp[i][j] = max(dp[i][j<span class="number">-1</span>], dp[i<span class="number">-1</span>][j]);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dp[la][lb]);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-4-最长非递增（减）递增（减）子序列-LIS"><a href="#4-4-最长非递增（减）递增（减）子序列-LIS" class="headerlink" title="4.4 最长非递增（减）递增（减）子序列(LIS)"></a>4.4 最长非递增（减）递增（减）子序列(LIS)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">求最长非递增子序列长度</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">20</span>;</div><div class="line"><span class="keyword">int</span> a[MAXN], d[MAXN], len;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> key)</span></span></div><div class="line"><span class="function"><span class="comment">//二分查找求上界，d[]为非递增数列，返回第一个小于key的元素的位置</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(l &lt; r)&#123;</div><div class="line">		<span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span>(d[m] &gt;= key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> l;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</div><div class="line">		d[<span class="number">1</span>] = a[<span class="number">1</span>]; len = <span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)&#123;</div><div class="line">			<span class="keyword">if</span>(a[i] &lt;= d[len])</div><div class="line">                 d[++len] = a[i];</div><div class="line">			<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">int</span> p = bSearch(<span class="number">1</span>, len, a[i]);</div><div class="line">				d[p] = a[i];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, len);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">求最长递减子序列长度</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">20</span>;</div><div class="line"><span class="keyword">int</span> a[MAXN], d[MAXN], len;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> key)</span></span></div><div class="line"><span class="function"><span class="comment">//二分查找求上界，d[]为递减数列，返回第一个小于等于key的元素的位置</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(l &lt; r)&#123;</div><div class="line">		<span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span>(d[m] &gt; key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> l;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</div><div class="line">		d[<span class="number">1</span>] = a[<span class="number">1</span>]; len = <span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)&#123;</div><div class="line">			<span class="keyword">if</span>(a[i] &lt; d[len])</div><div class="line">                 d[++len] = a[i];</div><div class="line">			<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">int</span> p = bSearch(<span class="number">1</span>, len, a[i]);</div><div class="line">				d[p] = a[i];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, len);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">求最长非递减子序列长度</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">20</span>;</div><div class="line"><span class="keyword">int</span> a[MAXN], d[MAXN], len;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> key)</span></span></div><div class="line"><span class="function"><span class="comment">//二分查找求上界，d[]为非递减数列，返回第一个大于key的元素的位置</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(l &lt; r)&#123;</div><div class="line">		<span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span>(d[m] &lt;= key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> l;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</div><div class="line">		d[<span class="number">1</span>] = a[<span class="number">1</span>]; len = <span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)&#123;</div><div class="line">			<span class="keyword">if</span>(a[i] &gt;= d[len])</div><div class="line">                 d[++len] = a[i];</div><div class="line">			<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">int</span> p = bSearch(<span class="number">1</span>, len, a[i]);</div><div class="line">				d[p] = a[i];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, len);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">求最长递增子序列长度</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">20</span>;</div><div class="line"><span class="keyword">int</span> a[MAXN], d[MAXN], len;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> key)</span></span></div><div class="line"><span class="function"><span class="comment">//二分查找求上界，d[]为递增数列，返回第一个大于等于key的元素的位置</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(l &lt; r)&#123;</div><div class="line">		<span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span>(d[m] &lt; key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(l &gt; r) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> l;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) == <span class="number">1</span>)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</div><div class="line">		d[<span class="number">1</span>] = a[<span class="number">1</span>]; len = <span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)&#123;</div><div class="line">			<span class="keyword">if</span>(a[i] &gt; d[len])</div><div class="line">                 d[++len] = a[i];</div><div class="line">			<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">int</span> p = bSearch(<span class="number">1</span>, len, a[i]);</div><div class="line">				d[p] = a[i];</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, len);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="五、计算几何"><a href="#五、计算几何" class="headerlink" title="五、计算几何"></a>五、计算几何</h2><h3 id="5-1-向量积与线段相交"><a href="#5-1-向量积与线段相交" class="headerlink" title="5.1 向量积与线段相交"></a>5.1 向量积与线段相交</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-8</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span>&#123;</span></div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    Point()&#123;&#125;</div><div class="line">    Point(<span class="keyword">double</span> X, <span class="keyword">double</span> Y):x(X), y(Y)&#123;&#125;</div><div class="line">    </div><div class="line">    Point <span class="keyword">operator</span> -(Point &amp;p)&#123; <span class="function">Point <span class="title">t</span><span class="params">(x-p.x, y-p.y)</span></span>; <span class="keyword">return</span> t; &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">cross</span><span class="params">(Point p)</span></span>&#123; <span class="keyword">return</span> x * p.y - p.x * y; &#125;<span class="comment">// 向量叉积</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123; <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>, &amp;x, &amp;y); &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">len</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="built_in">sqrt</span>(x*x + y*y); &#125;</div><div class="line">&#125;;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Line</span>&#123;</span></div><div class="line">    Point s, e;</div><div class="line">    Line()&#123;&#125;</div><div class="line">    Line(Point a, Point b):s(a), e(b)&#123;&#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123; <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span>, &amp;s.x, &amp;s.y, &amp;e.x, &amp;e.y); &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">len</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> (s-e).len(); &#125;</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">sgn</span><span class="params">(<span class="keyword">double</span> x)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">fabs</span>(x) &lt; eps) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> x&gt;<span class="number">0</span>? <span class="number">1</span> : <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/* 求出向量 AB 与向量 AC 的向量积,返回 0 代表共线 */</span></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">cross</span><span class="params">(Point A, Point B, Point C)</span></span>&#123; <span class="keyword">return</span> (B.x - A.x) * (C.y - A.y) - (B.y - A.y) * (C.x - A.x); &#125;</div><div class="line"></div><div class="line"><span class="comment">/* 极角排序，逆时针 */</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Point a, Point b)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span> (a.y == <span class="number">0</span> &amp;&amp; b.y == <span class="number">0</span> &amp;&amp; a.x*b.x &lt;= <span class="number">0</span>) <span class="keyword">return</span> a.x&gt;b.x;</div><div class="line">    <span class="keyword">if</span> (a.y == <span class="number">0</span> &amp;&amp; a.x &gt;= <span class="number">0</span> &amp;&amp; b.y != <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span> (b.y == <span class="number">0</span> &amp;&amp; b.x &gt;= <span class="number">0</span> &amp;&amp; a.y != <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">if</span> (b.y*a.y &lt;= <span class="number">0</span>) <span class="keyword">return</span> a.y&gt;b.y;</div><div class="line">	<span class="keyword">return</span> (a.x*b.y-a.y*b.x) &gt; <span class="number">0</span>; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 判断线段 AB 与线段 CD 是否相交，相交返回 true */</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_intersect</span><span class="params">(Point A, Point B, Point C, Point D)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span> (min(A.x, B.x) &lt;= max(C.x, D.x) &amp;&amp;</div><div class="line">        min(C.x, D.x) &lt;= max(A.x, B.x) &amp;&amp;</div><div class="line">        min(A.y, B.y) &lt;= max(C.y, D.y) &amp;&amp;</div><div class="line">        min(C.y, D.y) &lt;= max(A.y, B.y) &amp;&amp;</div><div class="line">        cross(A, B, C) * cross(A, B, D) &lt;= <span class="number">0</span> &amp;&amp;</div><div class="line">        cross(C, D, A) * cross(C, D, B) &lt;= <span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-2-凸包"><a href="#5-2-凸包" class="headerlink" title="5.2 凸包"></a>5.2 凸包</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">***凸包问题--Graham Scan算法</span></div><div class="line"><span class="comment">***O(nlogn)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e5</span>+<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span>&#123;</span></div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    Point()&#123;&#125;</div><div class="line">    Point(<span class="keyword">double</span> X, <span class="keyword">double</span> Y):x(X), y(Y)&#123;&#125;</div><div class="line">    </div><div class="line">    Point <span class="keyword">operator</span> -(Point &amp;p)&#123; <span class="function">Point <span class="title">t</span><span class="params">(x-p.x, y-p.y)</span></span>; <span class="keyword">return</span> t; &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">cross</span><span class="params">(Point p)</span></span>&#123; <span class="keyword">return</span> x * p.y - p.x * y; &#125;<span class="comment">// 向量叉积</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123; <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>, &amp;x, &amp;y); &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">len</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="built_in">sqrt</span>(x*x + y*y); &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Point p1, Point p2)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span> (p1.x != p2.x) <span class="keyword">return</span> p1.x &lt; p2.x;</div><div class="line">    <span class="keyword">return</span> p1.y &lt; p2.y;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Point P[MAXN];  <span class="comment">// 无序点</span></div><div class="line"><span class="keyword">int</span>   convex[MAXN]; <span class="comment">// 保存组成凸包的点的下标</span></div><div class="line"><span class="keyword">int</span>   n;            <span class="comment">// 坐标系的无序点的个数</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetConvexHull</span><span class="params">()</span></span>&#123;</div><div class="line">    sort(P, P + n, cmp);</div><div class="line">    <span class="keyword">int</span> temp, total = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="comment">// 下凸包</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">while</span> (total &gt; <span class="number">1</span> &amp;&amp;</div><div class="line">                (P[convex[total - <span class="number">1</span>]] - P[convex[total - <span class="number">2</span>]]).cross(P[i] - P[convex[total - <span class="number">1</span>]]) &lt;= <span class="number">0</span>)</div><div class="line">            total--;</div><div class="line">        convex[total++] = i;</div><div class="line">    &#125;</div><div class="line">    temp = total;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) <span class="comment">// 上凸包</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">while</span> (total &gt; temp &amp;&amp;</div><div class="line">               (P[convex[total - <span class="number">1</span>]] - P[convex[total - <span class="number">2</span>]]).cross(P[i] - P[convex[total - <span class="number">1</span>]]) &lt;= <span class="number">0</span>)</div><div class="line">            total--;</div><div class="line">        convex[total++] = i;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> total - <span class="number">1</span>; <span class="comment">// 返回组成凸包的点的个数，实际上多了一个，就是起点，所以组成凸包的点个数是 total - 1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-3-最近点对问题"><a href="#5-3-最近点对问题" class="headerlink" title="5.3 最近点对问题"></a>5.3 最近点对问题</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">最近点对问题，分治法</span></div><div class="line"><span class="comment">时间复杂度为O(n*logn*logn)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> INF = <span class="number">1e20</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100005</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span>&#123;</span></div><div class="line">    <span class="keyword">double</span> x, y;</div><div class="line">    Point()&#123;&#125;</div><div class="line">    Point(<span class="keyword">double</span> X, <span class="keyword">double</span> Y):x(X), y(Y)&#123;&#125;</div><div class="line"></div><div class="line">    Point <span class="keyword">operator</span> -(Point &amp;p)&#123; <span class="function">Point <span class="title">t</span><span class="params">(x-p.x, y-p.y)</span></span>; <span class="keyword">return</span> t; &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">cross</span><span class="params">(Point p)</span></span>&#123; <span class="keyword">return</span> x * p.y - p.x * y; &#125;<span class="comment">// 向量叉积</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123; <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>, &amp;x, &amp;y); &#125;</div><div class="line">    <span class="function"><span class="keyword">double</span> <span class="title">len</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="built_in">sqrt</span>(x*x + y*y); &#125;</div><div class="line">&#125;P[MAXN];</div><div class="line"></div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> tmpt[MAXN];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpxy</span><span class="params">(<span class="keyword">const</span> Point&amp; a, <span class="keyword">const</span> Point&amp; b)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">if</span>(a.x != b.x)</div><div class="line">        <span class="keyword">return</span> a.x &lt; b.x;</div><div class="line">    <span class="keyword">return</span> a.y &lt; b.y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpy</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>&amp; a, <span class="keyword">const</span> <span class="keyword">int</span>&amp; b)</span></span>&#123;</div><div class="line">    <span class="keyword">return</span> P[a].y &lt; P[b].y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">Closest_Pair</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</div><div class="line">    <span class="keyword">double</span> d = INF;</div><div class="line">    <span class="keyword">if</span>(left==right)</div><div class="line">        <span class="keyword">return</span> d;</div><div class="line">    <span class="keyword">if</span>(left + <span class="number">1</span> == right)</div><div class="line">        <span class="keyword">return</span> (P[left]-P[right]).len();</div><div class="line">    <span class="keyword">int</span> mid = (left+right)&gt;&gt;<span class="number">1</span>;</div><div class="line">    <span class="keyword">double</span> d1 = Closest_Pair(left,mid);</div><div class="line">    <span class="keyword">double</span> d2 = Closest_Pair(mid+<span class="number">1</span>,right);</div><div class="line">    d = min(d1,d2);</div><div class="line">    <span class="keyword">int</span> i,j,k=<span class="number">0</span>;</div><div class="line">    <span class="comment">//分离出宽度为d的区间</span></div><div class="line">    <span class="keyword">for</span>(i = left; i &lt;= right; i++)&#123;</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">fabs</span>(P[mid].x-P[i].x) &lt;= d)</div><div class="line">            tmpt[k++] = i;</div><div class="line">    &#125;</div><div class="line">    sort(tmpt,tmpt+k,cmpy);</div><div class="line">    <span class="comment">//线性扫描</span></div><div class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; k; i++)&#123;</div><div class="line">        <span class="keyword">for</span>(j = i+<span class="number">1</span>; j &lt; k &amp;&amp; P[tmpt[j]].y-P[tmpt[i]].y&lt;d; j++)&#123;</div><div class="line">            <span class="keyword">double</span> d3 = (P[tmpt[i]] - P[tmpt[j]]).len();</div><div class="line">            <span class="keyword">if</span>(d &gt; d3)</div><div class="line">                d = d3;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> d;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n)&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) P[i].read();</div><div class="line">        sort(P,P+n,cmpxy);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%.2f\n"</span>,Closest_Pair(<span class="number">0</span>,n<span class="number">-1</span>));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="六、数论"><a href="#六、数论" class="headerlink" title="六、数论"></a>六、数论</h2><h3 id="6-1-高精度乘法-FFT"><a href="#6-1-高精度乘法-FFT" class="headerlink" title="6.1 高精度乘法-FFT"></a>6.1 高精度乘法-FFT</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//O(N*logN*loglogN)</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 1000000000</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mod 1000000007</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> N 350000</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fo(i,a,b) for(i=a;i&lt;=b;i++)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fd(i,a,b) for(i=a;i&gt;=b;i--)</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="number">3.141592653</span>;</div><div class="line"><span class="keyword">char</span> s1[N&gt;&gt;<span class="number">1</span>],s2[N&gt;&gt;<span class="number">1</span>];</div><div class="line"><span class="keyword">double</span> rea[N],ina[N],reb[N],inb[N],ret[N],intt[N];</div><div class="line"><span class="keyword">int</span> i,len1,len2,lent,lenres,len;</div><div class="line"><span class="keyword">int</span> res[N&gt;&gt;<span class="number">1</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Swap</span><span class="params">(<span class="keyword">double</span> &amp;x,<span class="keyword">double</span> &amp;y)</span></span></div><div class="line"><span class="function"></span>&#123;<span class="keyword">double</span> t = x; x = y; y = t;&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">rev</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> len)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>,i;</div><div class="line">    fo(i,<span class="number">1</span>,len) &#123;ans&lt;&lt;=<span class="number">1</span>; ans|=x&amp;<span class="number">1</span>; x&gt;&gt;=<span class="number">1</span>;&#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">FFT</span><span class="params">(<span class="keyword">double</span> *reA,<span class="keyword">double</span> *inA,<span class="keyword">int</span> n,<span class="keyword">int</span> flag)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> s,i,j,k; <span class="keyword">int</span> lgn = <span class="built_in">log</span>((<span class="keyword">double</span>)n) / <span class="built_in">log</span>((<span class="keyword">double</span>)<span class="number">2</span>);</div><div class="line">    fo(i,<span class="number">0</span>,n<span class="number">-1</span>)<span class="comment">//数组重排</span></div><div class="line">        &#123;</div><div class="line">            j = rev(i,lgn);</div><div class="line">            <span class="keyword">if</span> (j &gt; i) &#123;Swap(reA[i],reA[j]); Swap(inA[i],inA[j]);&#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    fo(s,<span class="number">1</span>,lgn)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">int</span> m = (<span class="number">1</span> &lt;&lt; s);</div><div class="line">            <span class="keyword">double</span> reWm = <span class="built_in">cos</span>(<span class="number">2</span>*pi/m) , inWm = <span class="built_in">sin</span>(<span class="number">2</span>*pi/m);</div><div class="line">            <span class="keyword">if</span> (flag) inWm = -inWm;</div><div class="line">            <span class="keyword">for</span> (k = <span class="number">0</span>;k &lt; n; k += m)</div><div class="line">                &#123;</div><div class="line">                    <span class="keyword">double</span> reW = <span class="number">1.0</span> , inW = <span class="number">0.0</span>;</div><div class="line">                    fo(j,<span class="number">0</span>,m/<span class="number">2</span><span class="number">-1</span>)</div><div class="line">                        &#123;</div><div class="line">                            <span class="keyword">int</span> tag = k + j + m / <span class="number">2</span>;</div><div class="line">                            <span class="keyword">double</span> reT = reW * reA[tag] - inW * inA[tag];</div><div class="line">                            <span class="keyword">double</span> inT = reW * inA[tag] + inW * reA[tag];</div><div class="line">                            <span class="keyword">double</span> reU = reA[k+j] , inU = inA[k+j];</div><div class="line">                            reA[k+j] = reU + reT; inA[k+j] = inU + inT;</div><div class="line">                            reA[tag] = reU - reT; inA[tag] = inU - inT;</div><div class="line">                            <span class="keyword">double</span> reWt = reW * reWm - inW * inWm;</div><div class="line">                            <span class="keyword">double</span> inWt = reW * inWm + inW * reWm;</div><div class="line">                            reW = reWt; inW = inWt;</div><div class="line">                        &#125;</div><div class="line">                &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%s%s"</span>,s1,s2)) &#123;</div><div class="line">        <span class="built_in">memset</span>(res, <span class="number">0</span> , <span class="keyword">sizeof</span>(res));</div><div class="line">        <span class="built_in">memset</span>(rea, <span class="number">0</span> , <span class="keyword">sizeof</span>(rea));</div><div class="line">        <span class="built_in">memset</span>(ina, <span class="number">0</span> , <span class="keyword">sizeof</span>(ina));</div><div class="line">        <span class="built_in">memset</span>(reb, <span class="number">0</span> , <span class="keyword">sizeof</span>(reb));</div><div class="line">        <span class="built_in">memset</span>(inb, <span class="number">0</span> , <span class="keyword">sizeof</span>(inb));</div><div class="line">        len1 = <span class="built_in">strlen</span>(s1); len2 = <span class="built_in">strlen</span>(s2);</div><div class="line">        lent = (len1 &gt; len2 ? len1 : len2); len = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (len &lt; lent) len &lt;&lt;= <span class="number">1</span>; len &lt;&lt;= <span class="number">1</span>;</div><div class="line">        fo(i,<span class="number">0</span>,len<span class="number">-1</span>)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">if</span> (i &lt; len1) rea[i] = (<span class="keyword">double</span>) s1[len1-i<span class="number">-1</span>] - <span class="string">'0'</span>;</div><div class="line">                <span class="keyword">if</span> (i &lt; len2) reb[i] = (<span class="keyword">double</span>) s2[len2-i<span class="number">-1</span>] - <span class="string">'0'</span>;</div><div class="line">                ina[i] = inb[i] = <span class="number">0.0</span>;</div><div class="line">            &#125;</div><div class="line">        FFT(rea,ina,len,<span class="number">0</span>); FFT(reb,inb,len,<span class="number">0</span>);<span class="comment">//求出a、b的点值表示法</span></div><div class="line">        fo(i,<span class="number">0</span>,len<span class="number">-1</span>)<span class="comment">//求出c的点值表示法</span></div><div class="line">            &#123;</div><div class="line">                <span class="comment">//printf("%.5lf %.5lf\n",rea[i],ina[i]);</span></div><div class="line">                <span class="keyword">double</span> rec = rea[i] * reb[i] - ina[i] * inb[i];</div><div class="line">                <span class="keyword">double</span> inc = rea[i] * inb[i] + ina[i] * reb[i];</div><div class="line">                rea[i] = rec; ina[i] = inc;</div><div class="line">            &#125;</div><div class="line">        FFT(rea,ina,len,<span class="number">1</span>);</div><div class="line">        fo(i,<span class="number">0</span>,len<span class="number">-1</span>) &#123;rea[i] /= len; ina[i] /= len;&#125;</div><div class="line"></div><div class="line">        fo(i,<span class="number">0</span>,len<span class="number">-1</span>) res[i] = (<span class="keyword">int</span>)(rea[i] + <span class="number">0.5</span>);</div><div class="line">        fo(i,<span class="number">0</span>,len<span class="number">-1</span>) res[i+<span class="number">1</span>] += res[i] / <span class="number">10</span> , res[i] %= <span class="number">10</span>;</div><div class="line"></div><div class="line">        lenres = len1 + len2 + <span class="number">2</span>;</div><div class="line">        <span class="keyword">while</span> (res[lenres] == <span class="number">0</span> &amp;&amp; lenres &gt; <span class="number">0</span>) lenres--;</div><div class="line">        fd(i,lenres,<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"%d"</span>,res[i]); <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-2-质数筛法"><a href="#6-2-质数筛法" class="headerlink" title="6.2 质数筛法"></a>6.2 质数筛法</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1000010</span>;</div><div class="line"></div><div class="line"><span class="keyword">bool</span> isPrime[MAXN];</div><div class="line"><span class="keyword">int</span> a[MAXN];</div><div class="line"><span class="keyword">int</span> prime[MAXN];</div><div class="line"></div><div class="line"><span class="comment">// 求1~n范围内的质数，返回质数个数，结果保存在prime[]中</span></div><div class="line"><span class="comment">// prime[]数组下标从0开始</span></div><div class="line"></div><div class="line"><span class="comment">// 埃拉托斯特尼筛法 O(nlglgn)</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Eratos_sieve</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span>(n &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="built_in">memset</span>(isPrime, <span class="literal">true</span>, <span class="keyword">sizeof</span>(isPrime));</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i*i&lt;=n; i++) &#123;</div><div class="line">		<span class="keyword">if</span>(isPrime[i])&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=i*i; j&lt;=n; j+=i) </div><div class="line">				isPrime[j] = <span class="literal">false</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)</div><div class="line">		<span class="keyword">if</span>(isPrime[i]) prime[cnt++] = i;</div><div class="line">	<span class="keyword">return</span> cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//欧拉筛法 O(n)</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">linear_sieve</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span>(n &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="built_in">memset</span>(isPrime, <span class="literal">true</span>, <span class="keyword">sizeof</span>(isPrime));</div><div class="line">    <span class="keyword">int</span> pNum = <span class="number">0</span>;</div><div class="line">    isPrime[<span class="number">1</span>] = <span class="literal">false</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)&#123;</div><div class="line">        <span class="keyword">if</span>(isPrime[i]) prime[++pNum] = i;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=pNum &amp;&amp; i*prime[j]&lt;=n; j++)&#123;</div><div class="line">            isPrime[ i*prime[j] ] = <span class="literal">false</span>;</div><div class="line">            <span class="comment">//筛去素数</span></div><div class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> pNum;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-3-组合数C计算"><a href="#6-3-组合数C计算" class="headerlink" title="6.3 组合数C计算"></a>6.3 组合数C计算</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 计算组合数C(n, m)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"></div><div class="line"><span class="comment">//方法1</span></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">lnchoose</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(m &lt; n/<span class="number">2.0</span>) m = n-m;</div><div class="line">    <span class="keyword">double</span> s1 = <span class="number">0</span>, s2 = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=m+<span class="number">1</span>; i&lt;=n; i++) s1 += <span class="built_in">log</span>((<span class="keyword">double</span>)i);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n-m; i++) s2 += <span class="built_in">log</span>((<span class="keyword">double</span>)i);</div><div class="line">    <span class="keyword">return</span> s1-s2;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">choose</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123; <span class="keyword">return</span> m&gt;n? <span class="number">0</span>:<span class="built_in">exp</span>(lnchoose(n, m)); &#125;</div><div class="line"></div><div class="line"><span class="comment">//方法2</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">105</span>;</div><div class="line"><span class="keyword">double</span> C[MAXN][MAXN];</div><div class="line"></div><div class="line">C[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;MAXN; i++)&#123;</div><div class="line">    C[i][<span class="number">0</span>] = C[i<span class="number">-1</span>][<span class="number">0</span>];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;MAXN; j++)&#123;</div><div class="line">        C[i][j] = (C[i<span class="number">-1</span>][j<span class="number">-1</span>] + C[i<span class="number">-1</span>][j]);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="七、网络流"><a href="#七、网络流" class="headerlink" title="七、网络流"></a>七、网络流</h2><h3 id="7-1-最大流"><a href="#7-1-最大流" class="headerlink" title="7.1 最大流"></a>7.1 最大流</h3><h4 id="7-1-1-Dinic"><a href="#7-1-1-Dinic" class="headerlink" title="7.1.1 Dinic"></a>7.1.1 Dinic</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">	Dinic算法</span></div><div class="line"><span class="comment">	O(V^2 * E)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 2147483647</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> clear(x) memset(x, 0, sizeof x)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF(x) memset(x, 63, sizeof x)</span></div><div class="line">dinic </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1005</span>, M = <span class="number">200005</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MaxFlow</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> head[N], next[M], flow[M], to[M], tot;</div><div class="line">	<span class="keyword">int</span> cur[N], dis[N], q[M * <span class="number">10</span>], ans, S, T;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">		tot = <span class="number">1</span>;</div><div class="line">		clear(head);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp;a, <span class="keyword">const</span> <span class="keyword">int</span> &amp;b)</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> a &lt; b ? a : b;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span> </span>&#123;</div><div class="line">		to[++tot] = y;</div><div class="line">		next[tot] = head[x];</div><div class="line">		head[x] = tot;</div><div class="line">		flow[tot] = z;</div><div class="line">		to[++tot] = x;</div><div class="line">		next[tot] = head[y];</div><div class="line">		head[y] = tot;</div><div class="line">		flow[tot] = <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">int</span> h = <span class="number">0</span>, t = <span class="number">0</span>;</div><div class="line">		INF(dis);</div><div class="line">		<span class="keyword">for</span>(dis[q[h] = T] = <span class="number">0</span>; h &lt;= t; ++h)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = head[q[h]]; i; i = next[i])</div><div class="line">		<span class="keyword">if</span>(flow[i ^ <span class="number">1</span>] &amp;&amp; to[i] != S &amp;&amp; dis[to[i]] &gt; dis[q[h]] + <span class="number">1</span>)</div><div class="line">			dis[q[++t] = to[i]] = dis[q[h]] + <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> t, <span class="keyword">int</span> Lim)</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span>(t == T) <span class="keyword">return</span> Lim;</div><div class="line">		<span class="keyword">int</span> ret = <span class="number">0</span>, p;</div><div class="line">		<span class="keyword">for</span>(; cur[t]; cur[t] = next[cur[t]])</div><div class="line">		<span class="keyword">if</span>(flow[cur[t]] &amp;&amp; dis[to[cur[t]]] &lt; dis[t]) &#123;</div><div class="line">			p = dfs(to[cur[t]], min(Lim - ret, flow[cur[t]]));</div><div class="line">			ret += p;</div><div class="line">			flow[cur[t]] -= p, flow[cur[t] ^ <span class="number">1</span>] += p;</div><div class="line">			<span class="keyword">if</span>(ret == Lim) <span class="keyword">return</span> Lim;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> ret;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">dinic</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">int</span> ret = <span class="number">0</span>, p = <span class="number">1</span>;</div><div class="line">		bfs();</div><div class="line">		<span class="built_in">memcpy</span>(cur, head, <span class="keyword">sizeof</span> cur);</div><div class="line">		<span class="keyword">while</span>(p) &#123;</div><div class="line">			p = dfs(S, inf);</div><div class="line">			ret += p;</div><div class="line">		&#125;</div><div class="line">		ans += ret;</div><div class="line">		<span class="keyword">return</span> ret;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">while</span>(dinic());</div><div class="line">	&#125;</div><div class="line">&#125; G;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="7-1-2-EK"><a href="#7-1-2-EK" class="headerlink" title="7.1.2 EK"></a>7.1.2 EK</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*	</span></div><div class="line"><span class="comment">	EK算法</span></div><div class="line"><span class="comment">	O(V^2 * E)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">210</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXM = <span class="number">210</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T; <span class="comment">//数据组数</span></div><div class="line"><span class="keyword">int</span> N, M; <span class="comment">//顶点数，边数</span></div><div class="line"><span class="keyword">int</span> pre[MAXN]; <span class="comment">//记录某个点的前向结点</span></div><div class="line"><span class="keyword">bool</span> vis[MAXN]; <span class="comment">//记录某个点是否被访问过</span></div><div class="line">LL c[MAXN][MAXN]; <span class="comment">//容量矩阵</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span></span></div><div class="line"><span class="function"><span class="comment">/*	判断从结点s到t是否有增广路径	*/</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</div><div class="line">	<span class="built_in">memset</span>(pre, <span class="number">-1</span>, <span class="keyword">sizeof</span>(pre));</div><div class="line">	<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">	Q.push(s);</div><div class="line">	pre[s] = s;</div><div class="line">	vis[s] = <span class="literal">true</span>;</div><div class="line"></div><div class="line">	<span class="keyword">while</span>(!Q.empty()) &#123;</div><div class="line">		<span class="keyword">int</span> now = Q.front();</div><div class="line">		Q.pop();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=N; i++) &#123;</div><div class="line">			<span class="keyword">if</span>(c[now][i]&gt;<span class="number">0</span> &amp;&amp; !vis[i])&#123;</div><div class="line">				pre[i] = now;</div><div class="line">				vis[i] = <span class="literal">true</span>;</div><div class="line">				<span class="keyword">if</span>(i == t) <span class="comment">//到达汇点</span></div><div class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">				Q.push(i);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="function">LL <span class="title">Min</span><span class="params">(LL a, LL b)</span></span>&#123; <span class="keyword">return</span> a&lt;b? a:b; &#125;</div><div class="line"><span class="function">LL <span class="title">EK</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span></span></div><div class="line"><span class="function"><span class="comment">/*	Edmond Karp算法</span></span></div><div class="line"><span class="function"><span class="comment">	s: 源点</span></span></div><div class="line"><span class="function"><span class="comment">	t: 汇点</span></span></div><div class="line"><span class="function"><span class="comment">	return 最大流</span></span></div><div class="line"><span class="function"><span class="comment">*/</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	LL maxFlow = <span class="number">0l</span>l, d;</div><div class="line">	<span class="keyword">while</span>(BFS(s, t))&#123;</div><div class="line">		d = <span class="number">0x7fffffffffffffff</span>;</div><div class="line">		<span class="comment">// 找到增广路径上最小的Δ</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=t; i!=s; i=pre[i])</div><div class="line">			d = Min(d, c[pre[i]][i]);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=t; i!=s; i=pre[i])&#123;</div><div class="line">			c[pre[i]][i] -= d;</div><div class="line">			c[i][pre[i]] += d; <span class="comment">//反向边</span></div><div class="line">		&#125;</div><div class="line">		maxFlow += d;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> maxFlow;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;N, &amp;M) == <span class="number">2</span>)&#123;</div><div class="line">        <span class="built_in">memset</span>(c, <span class="number">0</span>, <span class="keyword">sizeof</span>(c));</div><div class="line">		<span class="keyword">int</span> x, y, cc;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=M; i++) &#123;</div><div class="line">			<span class="comment">// x到y容量为cc</span></div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;x, &amp;y, &amp;cc);</div><div class="line">			c[x][y] += (LL)cc;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, EK(<span class="number">1</span>, N));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="7-2-二分图匹配"><a href="#7-2-二分图匹配" class="headerlink" title="7.2 二分图匹配"></a>7.2 二分图匹配</h3><p>匈牙利算法</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 2147483647</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> clr(x) memset(x, 0, sizeof x)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF(x) memset(x, 63, sizeof x)</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1010</span>, M=<span class="number">1000010</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> K, m, n; <span class="comment">//边数K</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">XYL</span> &#123;</span></div><div class="line">	<span class="keyword">int</span> head[N], next[M], to[M], tot, ans, fa[N];</div><div class="line">	<span class="keyword">bool</span> vis[N];</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">		to[++tot] = y;</div><div class="line">		next[tot] = head[x];</div><div class="line">		head[x] = tot;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">		tot = ans = <span class="number">0</span>;</div><div class="line">		clr(head);</div><div class="line">		clr(fa);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> t)</span> </span>&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = head[t]; i; i = next[i])</div><div class="line">		<span class="keyword">if</span>(!vis[to[i]]) &#123;</div><div class="line">			vis[to[i]] = <span class="number">1</span>;</div><div class="line">			<span class="keyword">if</span>(!fa[to[i]] || dfs(fa[to[i]])) &#123;</div><div class="line">				fa[to[i]] = t;</div><div class="line">				<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">register</span> <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">			clr(vis);</div><div class="line">			ans += dfs(i);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125; G;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n)==<span class="number">1</span>)&#123;</div><div class="line">        G.init();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="八、搜索"><a href="#八、搜索" class="headerlink" title="八、搜索"></a>八、搜索</h2><h3 id="8-1-二分查找"><a href="#8-1-二分查找" class="headerlink" title="8.1 二分查找"></a>8.1 二分查找</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">****二分查找的应用</span></div><div class="line"><span class="comment">****假设A[]为非降序</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100010</span>;</div><div class="line"><span class="keyword">int</span> A[MAXN];</div><div class="line"></div><div class="line"><span class="comment">// 返回元素位置，若不存在返回-1</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch1</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> n, <span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> l=<span class="number">0</span>, m, r = n<span class="number">-1</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</div><div class="line">		m = l + ((r-l)&gt;&gt;<span class="number">1</span>);</div><div class="line">		<span class="keyword">if</span>(A[m] == key) <span class="keyword">return</span> m;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(A[m] &lt; key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m<span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//返回元素位置，不存在则返回应插入的位置</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch2</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> n, <span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> l=<span class="number">0</span>, m, r = n<span class="number">-1</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</div><div class="line">		m = l + ((r-l)&gt;&gt;<span class="number">1</span>);</div><div class="line">		<span class="keyword">if</span>(A[m] == key) <span class="keyword">return</span> m;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(A[m] &lt; key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m<span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> -(l + <span class="number">1</span>); <span class="comment">//应插入的位置是l，为与存在的情况区分</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//返回下界</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch3</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> n, <span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> l=<span class="number">0</span>, m, r = n<span class="number">-1</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</div><div class="line">		m = l + ((r-l)&gt;&gt;<span class="number">1</span>);</div><div class="line">		<span class="keyword">if</span>(A[m] == key)&#123;</div><div class="line">			<span class="keyword">if</span>(m&gt;<span class="number">0</span> &amp;&amp; A[m<span class="number">-1</span>]==key)</div><div class="line">				r = m - <span class="number">1</span>;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">return</span> m;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(A[m] &lt; key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m<span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> -(l + <span class="number">1</span>); <span class="comment">//应插入的位置是l，为与存在的情况区分</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//返回上界</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">bSearch4</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> n, <span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> l=<span class="number">0</span>, m, r = n<span class="number">-1</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">while</span>(l &lt;= r) &#123;</div><div class="line">		m = l + ((r-l)&gt;&gt;<span class="number">1</span>);</div><div class="line">		<span class="keyword">if</span>(A[m] == key)&#123;</div><div class="line">			<span class="keyword">if</span>(m&lt;n<span class="number">-1</span> &amp;&amp; A[m+<span class="number">1</span>]==key)</div><div class="line">				l = m + <span class="number">1</span>;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">return</span> m;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(A[m] &lt; key) l = m + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> r = m<span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> -(l + <span class="number">1</span>); <span class="comment">//应插入的位置是l，为与存在的情况区分</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/算法/" rel="tag"># 算法</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/19/日常陷入迷茫/" rel="next" title="日常陷入迷茫">
                <i class="fa fa-chevron-left"></i> 日常陷入迷茫
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/31/初次制作联机小游戏/" rel="prev" title="初次制作联机小游戏">
                初次制作联机小游戏 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <p class="site-author-name" itemprop="name">SE</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">46</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Becomebright" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="15652587063@163.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-163"></i>E-Mail</a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、STL"><span class="nav-number">1.</span> <span class="nav-text">一、STL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-Vector"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 Vector</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-Queue"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 Queue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-Stack"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 Stack</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-iterator迭代器"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 iterator迭代器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、树"><span class="nav-number">2.</span> <span class="nav-text">二、树</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-二叉树"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 二叉树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-二叉树的遍历-4种"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 二叉树的遍历(4种)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-二叉树的创建"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 二叉树的创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-二叉树的应用（求深度、叶子节点数）"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 二叉树的应用（求深度、叶子节点数）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-并查集"><span class="nav-number">2.5.</span> <span class="nav-text">2.5 并查集</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、图"><span class="nav-number">3.</span> <span class="nav-text">三、图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-邻接矩阵、邻接表"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 邻接矩阵、邻接表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-广搜、深搜"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 广搜、深搜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-最小生成树"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 最小生成树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-拓扑排序"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 拓扑排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-关键路径"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 关键路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-最短路"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 最短路</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-1-单源最短路"><span class="nav-number">3.6.1.</span> <span class="nav-text">3.6.1 单源最短路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-2-SPFA"><span class="nav-number">3.6.2.</span> <span class="nav-text">3.6.2 SPFA</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-3-多源最短路"><span class="nav-number">3.6.3.</span> <span class="nav-text">3.6.3 多源最短路</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-堆"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 堆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、动态规划"><span class="nav-number">4.</span> <span class="nav-text">四、动态规划</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-背包问题"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 背包问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-矩阵连乘"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 矩阵连乘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-最长公共子序列"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 最长公共子序列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-最长非递增（减）递增（减）子序列-LIS"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 最长非递增（减）递增（减）子序列(LIS)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、计算几何"><span class="nav-number">5.</span> <span class="nav-text">五、计算几何</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-向量积与线段相交"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 向量积与线段相交</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-凸包"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 凸包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-最近点对问题"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 最近点对问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、数论"><span class="nav-number">6.</span> <span class="nav-text">六、数论</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-高精度乘法-FFT"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 高精度乘法-FFT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-质数筛法"><span class="nav-number">6.2.</span> <span class="nav-text">6.2 质数筛法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-组合数C计算"><span class="nav-number">6.3.</span> <span class="nav-text">6.3 组合数C计算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、网络流"><span class="nav-number">7.</span> <span class="nav-text">七、网络流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-最大流"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 最大流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-1-Dinic"><span class="nav-number">7.1.1.</span> <span class="nav-text">7.1.1 Dinic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-2-EK"><span class="nav-number">7.1.2.</span> <span class="nav-text">7.1.2 EK</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-二分图匹配"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 二分图匹配</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#八、搜索"><span class="nav-number">8.</span> <span class="nav-text">八、搜索</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-二分查找"><span class="nav-number">8.1.</span> <span class="nav-text">8.1 二分查找</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        
<div class="copyright" >
  
  &copy;  2017 &mdash; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">SE</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.2</div>

        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://Becomebright.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://yoursite.com/2017/12/23/DSZ的板子/';
          this.page.identifier = '2017/12/23/DSZ的板子/';
          this.page.title = 'DSZ的板子';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://Becomebright.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  










  





  

  

  

  
  


  

  

</body>
</html>
